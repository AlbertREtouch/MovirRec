<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_17) on Thu Mar 11 19:29:02 EST 2010 -->
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<TITLE>
FileDataModel (Mahout Core 0.3 API)
</TITLE>

<META NAME="date" CONTENT="2010-03-11">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FileDataModel (Mahout Core 0.3 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FileDataModel.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../../index.html?org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FileDataModel.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.mahout.cf.taste.impl.model.file</FONT>
<BR>
Class FileDataModel</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.mahout.cf.taste.impl.model.file.FileDataModel</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/Refreshable.html" title="interface in org.apache.mahout.cf.taste.common">Refreshable</A>, <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>FileDataModel</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></DL>
</PRE>

<P>
<p>
 A <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model"><CODE>DataModel</CODE></A> backed by a comma-delimited file. This class typically expects a file where each line
 contains a user ID, followed by item ID, followed by preferences value, separated by commas. You may also
 use tabs.
 </p>
 
 <p>
 The preference value is assumed to be parseable as a <code>double</code>. The user IDs and item IDs are
 read parsed as <code>long</code>s.
 </p>
 
 <p>
 This class will reload data from the data file when <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#refresh(java.util.Collection)"><CODE>refresh(Collection)</CODE></A> is called, unless the file
 has been reloaded very recently already.
 </p>
 
 <p>
 This class will also look for update "delta" files in the same directory, with file names that start the
 same way (up to the first period). These files should have the same format, and provide updated data that
 supersedes what is in the main data file. This is a mechanism that allows an application to push updates to
  without re-copying the entire data file.
 </p>
 
 <p>
 The line may contain a blank preference value (e.g. "123,456,"). This is interpreted to mean
 "delete preference", and is only useful in the context of an update delta file (see above). Note that if
 the line is empty or begins with '#' it will be ignored as a comment.
 </p>
 
 <p>
 It is also acceptable for the lines to contain additional fields. Fields beyond the third will be ignored.
 </p>
 
 <p>
 Finally, for application that have no notion of a preference value (that is, the user simply expresses a
 preference for an item, but no degree of preference), the caller can simply omit the third token in each
 line altogether -- for example, "123,456".
 </p>
 
 <p>
 Note that it's all-or-nothing -- all of the items in the file must express no preference, or the all must.
 These cannot be mixed. Put another way there will always be the same number of delimiters on every line of
 the file!
 </p>
 
 <p>
 This class is not intended for use with very large amounts of data (over, say, tens of millions of rows).
 For that, a JDBC-backed <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model"><CODE>DataModel</CODE></A> and a database are more appropriate.
 </p>
 
 <p>
 It is possible and likely useful to subclass this class and customize its behavior to accommodate
 application-specific needs and input formats. See <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#processLine(java.lang.String, org.apache.mahout.cf.taste.impl.common.FastByIDMap, boolean)"><CODE>processLine(String, FastByIDMap, boolean)</CODE></A> and
 <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#processLineWithoutID(java.lang.String, org.apache.mahout.cf.taste.impl.common.FastByIDMap)"><CODE>processLineWithoutID(String, FastByIDMap)</CODE></A>
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#FileDataModel(java.io.File)">FileDataModel</A></B>(java.io.File&nbsp;dataFile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#FileDataModel(java.io.File, boolean)">FileDataModel</A></B>(java.io.File&nbsp;dataFile,
              boolean&nbsp;transpose)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#buildModel()">buildModel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;char</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#determineDelimiter(java.lang.String, int)">determineDelimiter</A></B>(java.lang.String&nbsp;line,
                   int&nbsp;maxDelimiters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.io.File</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getDataFile()">getDataFile</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;char</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getDelimiter()">getDelimiter</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/LongPrimitiveIterator.html" title="interface in org.apache.mahout.cf.taste.impl.common">LongPrimitiveIterator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getItemIDs()">getItemIDs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastIDSet.html" title="class in org.apache.mahout.cf.taste.impl.common">FastIDSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getItemIDsFromUser(long)">getItemIDsFromUser</A></B>(long&nbsp;userID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getNumItems()">getNumItems</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getNumUsers()">getNumUsers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getNumUsersWithPreferenceFor(long...)">getNumUsersWithPreferenceFor</A></B>(long...&nbsp;itemIDs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/PreferenceArray.html" title="interface in org.apache.mahout.cf.taste.model">PreferenceArray</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getPreferencesForItem(long)">getPreferencesForItem</A></B>(long&nbsp;itemID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/PreferenceArray.html" title="interface in org.apache.mahout.cf.taste.model">PreferenceArray</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getPreferencesFromUser(long)">getPreferencesFromUser</A></B>(long&nbsp;userID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Float</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getPreferenceValue(long, long)">getPreferenceValue</A></B>(long&nbsp;userID,
                   long&nbsp;itemID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves the preference value for a single user and item.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/LongPrimitiveIterator.html" title="interface in org.apache.mahout.cf.taste.impl.common">LongPrimitiveIterator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#getUserIDs()">getUserIDs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#hasPreferenceValues()">hasPreferenceValues</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#processFile(org.apache.mahout.common.FileLineIterator, org.apache.mahout.cf.taste.impl.common.FastByIDMap, boolean)">processFile</A></B>(<A HREF="../../../../../../../../org/apache/mahout/common/FileLineIterator.html" title="class in org.apache.mahout.common">FileLineIterator</A>&nbsp;dataOrUpdateFileIterator,
            <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastByIDMap.html" title="class in org.apache.mahout.cf.taste.impl.common">FastByIDMap</A>&lt;?&gt;&nbsp;data,
            boolean&nbsp;fromPriorData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#processFileWithoutID(org.apache.mahout.common.FileLineIterator, org.apache.mahout.cf.taste.impl.common.FastByIDMap)">processFileWithoutID</A></B>(<A HREF="../../../../../../../../org/apache/mahout/common/FileLineIterator.html" title="class in org.apache.mahout.common">FileLineIterator</A>&nbsp;dataOrUpdateFileIterator,
                     <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastByIDMap.html" title="class in org.apache.mahout.cf.taste.impl.common">FastByIDMap</A>&lt;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastIDSet.html" title="class in org.apache.mahout.cf.taste.impl.common">FastIDSet</A>&gt;&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#processLine(java.lang.String, org.apache.mahout.cf.taste.impl.common.FastByIDMap, boolean)">processLine</A></B>(java.lang.String&nbsp;line,
            <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastByIDMap.html" title="class in org.apache.mahout.cf.taste.impl.common">FastByIDMap</A>&lt;?&gt;&nbsp;data,
            boolean&nbsp;fromPriorData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Reads one line from the input file and adds the data to a <CODE>Map</CODE> data structure which maps user IDs
 to preferences.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#processLineWithoutID(java.lang.String, org.apache.mahout.cf.taste.impl.common.FastByIDMap)">processLineWithoutID</A></B>(java.lang.String&nbsp;line,
                     <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastByIDMap.html" title="class in org.apache.mahout.cf.taste.impl.common">FastByIDMap</A>&lt;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastIDSet.html" title="class in org.apache.mahout.cf.taste.impl.common">FastIDSet</A>&gt;&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#readItemIDFromString(java.lang.String)">readItemIDFromString</A></B>(java.lang.String&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subclasses may wish to override this if ID values in the file are not numeric.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#readUserIDFromString(java.lang.String)">readUserIDFromString</A></B>(java.lang.String&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subclasses may wish to override this if ID values in the file are not numeric.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#refresh(java.util.Collection)">refresh</A></B>(java.util.Collection&lt;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/Refreshable.html" title="interface in org.apache.mahout.cf.taste.common">Refreshable</A>&gt;&nbsp;alreadyRefreshed)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Triggers "refresh" -- whatever that means -- of the implementation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#reload()">reload</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#removePreference(long, long)">removePreference</A></B>(long&nbsp;userID,
                 long&nbsp;itemID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See the warning at <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#setPreference(long, long, float)"><CODE>setPreference(long, long, float)</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#setPreference(long, long, float)">setPreference</A></B>(long&nbsp;userID,
              long&nbsp;itemID,
              float&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Note that this method only updates the in-memory preference data that this
 maintains; it does not modify any data on disk.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="FileDataModel(java.io.File)"><!-- --></A><H3>
FileDataModel</H3>
<PRE>
public <B>FileDataModel</B>(java.io.File&nbsp;dataFile)
              throws java.io.IOException</PRE>
<DL>
<DL>
<DT><B>Parameters:</B><DD><CODE>dataFile</CODE> - file containing preferences data. If file is compressed (and name ends in .gz or .zip
          accordingly) it will be decompressed as it is read)
<DT><B>Throws:</B>
<DD><CODE>java.io.FileNotFoundException</CODE> - if dataFile does not exist
<DD><CODE>java.io.IOException</CODE> - if file can't be read</DL>
</DL>
<HR>

<A NAME="FileDataModel(java.io.File, boolean)"><!-- --></A><H3>
FileDataModel</H3>
<PRE>
public <B>FileDataModel</B>(java.io.File&nbsp;dataFile,
                     boolean&nbsp;transpose)
              throws java.io.IOException</PRE>
<DL>
<DL>
<DT><B>Parameters:</B><DD><CODE>transpose</CODE> - transposes user IDs and item IDs -- convenient for 'flipping' the data model this way
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE><DT><B>See Also:</B><DD><A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#FileDataModel(java.io.File)"><CODE>FileDataModel(File)</CODE></A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getDataFile()"><!-- --></A><H3>
getDataFile</H3>
<PRE>
public java.io.File <B>getDataFile</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDelimiter()"><!-- --></A><H3>
getDelimiter</H3>
<PRE>
public char <B>getDelimiter</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="reload()"><!-- --></A><H3>
reload</H3>
<PRE>
protected void <B>reload</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="buildModel()"><!-- --></A><H3>
buildModel</H3>
<PRE>
protected <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A> <B>buildModel</B>()
                        throws java.io.IOException</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="determineDelimiter(java.lang.String, int)"><!-- --></A><H3>
determineDelimiter</H3>
<PRE>
public static char <B>determineDelimiter</B>(java.lang.String&nbsp;line,
                                      int&nbsp;maxDelimiters)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="processFile(org.apache.mahout.common.FileLineIterator, org.apache.mahout.cf.taste.impl.common.FastByIDMap, boolean)"><!-- --></A><H3>
processFile</H3>
<PRE>
protected void <B>processFile</B>(<A HREF="../../../../../../../../org/apache/mahout/common/FileLineIterator.html" title="class in org.apache.mahout.common">FileLineIterator</A>&nbsp;dataOrUpdateFileIterator,
                           <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastByIDMap.html" title="class in org.apache.mahout.cf.taste.impl.common">FastByIDMap</A>&lt;?&gt;&nbsp;data,
                           boolean&nbsp;fromPriorData)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="processLine(java.lang.String, org.apache.mahout.cf.taste.impl.common.FastByIDMap, boolean)"><!-- --></A><H3>
processLine</H3>
<PRE>
protected void <B>processLine</B>(java.lang.String&nbsp;line,
                           <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastByIDMap.html" title="class in org.apache.mahout.cf.taste.impl.common">FastByIDMap</A>&lt;?&gt;&nbsp;data,
                           boolean&nbsp;fromPriorData)</PRE>
<DL>
<DD><p>
 Reads one line from the input file and adds the data to a <CODE>Map</CODE> data structure which maps user IDs
 to preferences. This assumes that each line of the input file corresponds to one preference. After
 reading a line and determining which user and item the preference pertains to, the method should look to
 see if the data contains a mapping for the user ID already, and if not, add an empty <CODE>List</CODE> of
 <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/Preference.html" title="interface in org.apache.mahout.cf.taste.model"><CODE>Preference</CODE></A>s to the data.
 </p>
 
 <p>
 Note that if the line is empty or begins with '#' it will be ignored as a comment.
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>line</CODE> - line from input data file<DD><CODE>data</CODE> - all data read so far, as a mapping from user IDs to preferences<DD><CODE>fromPriorData</CODE> - an implementation detail -- if true, data will map IDs to
  <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/PreferenceArray.html" title="interface in org.apache.mahout.cf.taste.model"><CODE>PreferenceArray</CODE></A> since the framework is attempting to read and update raw
  data that is already in memory. Otherwise it maps to <CODE>Collection</CODE>s of
  <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/Preference.html" title="interface in org.apache.mahout.cf.taste.model"><CODE>Preference</CODE></A>s, since it's reading fresh data. Subclasses must be prepared
  to handle this wrinkle.</DL>
</DD>
</DL>
<HR>

<A NAME="processFileWithoutID(org.apache.mahout.common.FileLineIterator, org.apache.mahout.cf.taste.impl.common.FastByIDMap)"><!-- --></A><H3>
processFileWithoutID</H3>
<PRE>
protected void <B>processFileWithoutID</B>(<A HREF="../../../../../../../../org/apache/mahout/common/FileLineIterator.html" title="class in org.apache.mahout.common">FileLineIterator</A>&nbsp;dataOrUpdateFileIterator,
                                    <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastByIDMap.html" title="class in org.apache.mahout.cf.taste.impl.common">FastByIDMap</A>&lt;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastIDSet.html" title="class in org.apache.mahout.cf.taste.impl.common">FastIDSet</A>&gt;&nbsp;data)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="processLineWithoutID(java.lang.String, org.apache.mahout.cf.taste.impl.common.FastByIDMap)"><!-- --></A><H3>
processLineWithoutID</H3>
<PRE>
protected void <B>processLineWithoutID</B>(java.lang.String&nbsp;line,
                                    <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastByIDMap.html" title="class in org.apache.mahout.cf.taste.impl.common">FastByIDMap</A>&lt;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastIDSet.html" title="class in org.apache.mahout.cf.taste.impl.common">FastIDSet</A>&gt;&nbsp;data)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="readUserIDFromString(java.lang.String)"><!-- --></A><H3>
readUserIDFromString</H3>
<PRE>
protected long <B>readUserIDFromString</B>(java.lang.String&nbsp;value)</PRE>
<DL>
<DD>Subclasses may wish to override this if ID values in the file are not numeric. This provides a hook by
 which subclasses can inject an <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/IDMigrator.html" title="interface in org.apache.mahout.cf.taste.model"><CODE>IDMigrator</CODE></A> to perform
 translation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="readItemIDFromString(java.lang.String)"><!-- --></A><H3>
readItemIDFromString</H3>
<PRE>
protected long <B>readItemIDFromString</B>(java.lang.String&nbsp;value)</PRE>
<DL>
<DD>Subclasses may wish to override this if ID values in the file are not numeric. This provides a hook by
 which subclasses can inject an <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/IDMigrator.html" title="interface in org.apache.mahout.cf.taste.model"><CODE>IDMigrator</CODE></A> to perform
 translation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUserIDs()"><!-- --></A><H3>
getUserIDs</H3>
<PRE>
public <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/LongPrimitiveIterator.html" title="interface in org.apache.mahout.cf.taste.impl.common">LongPrimitiveIterator</A> <B>getUserIDs</B>()
                                 throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#getUserIDs()">getUserIDs</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>all user IDs in the model, in order
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data</DL>
</DD>
</DL>
<HR>

<A NAME="getPreferencesFromUser(long)"><!-- --></A><H3>
getPreferencesFromUser</H3>
<PRE>
public <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/PreferenceArray.html" title="interface in org.apache.mahout.cf.taste.model">PreferenceArray</A> <B>getPreferencesFromUser</B>(long&nbsp;userID)
                                       throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#getPreferencesFromUser(long)">getPreferencesFromUser</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userID</CODE> - ID of user to get prefs for
<DT><B>Returns:</B><DD>user's preferences, ordered by item ID
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/NoSuchUserException.html" title="class in org.apache.mahout.cf.taste.common">NoSuchUserException</A></CODE> - if the user does not exist
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data</DL>
</DD>
</DL>
<HR>

<A NAME="getItemIDsFromUser(long)"><!-- --></A><H3>
getItemIDsFromUser</H3>
<PRE>
public <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/FastIDSet.html" title="class in org.apache.mahout.cf.taste.impl.common">FastIDSet</A> <B>getItemIDsFromUser</B>(long&nbsp;userID)
                             throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#getItemIDsFromUser(long)">getItemIDsFromUser</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userID</CODE> - ID of user to get prefs for
<DT><B>Returns:</B><DD>IDs of items user expresses a preference for
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/NoSuchUserException.html" title="class in org.apache.mahout.cf.taste.common">NoSuchUserException</A></CODE> - if the user does not exist
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data</DL>
</DD>
</DL>
<HR>

<A NAME="getItemIDs()"><!-- --></A><H3>
getItemIDs</H3>
<PRE>
public <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/common/LongPrimitiveIterator.html" title="interface in org.apache.mahout.cf.taste.impl.common">LongPrimitiveIterator</A> <B>getItemIDs</B>()
                                 throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#getItemIDs()">getItemIDs</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a <CODE>List</CODE> of all item IDs in the model, in order
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data</DL>
</DD>
</DL>
<HR>

<A NAME="getPreferencesForItem(long)"><!-- --></A><H3>
getPreferencesForItem</H3>
<PRE>
public <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/PreferenceArray.html" title="interface in org.apache.mahout.cf.taste.model">PreferenceArray</A> <B>getPreferencesForItem</B>(long&nbsp;itemID)
                                      throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#getPreferencesForItem(long)">getPreferencesForItem</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>itemID</CODE> - item ID
<DT><B>Returns:</B><DD>all existing <A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/Preference.html" title="interface in org.apache.mahout.cf.taste.model"><CODE>Preference</CODE></A>s expressed for that item, ordered by user ID, as an array
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/NoSuchItemException.html" title="class in org.apache.mahout.cf.taste.common">NoSuchItemException</A></CODE> - if the item does not exist
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data</DL>
</DD>
</DL>
<HR>

<A NAME="getPreferenceValue(long, long)"><!-- --></A><H3>
getPreferenceValue</H3>
<PRE>
public java.lang.Float <B>getPreferenceValue</B>(long&nbsp;userID,
                                          long&nbsp;itemID)
                                   throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#getPreferenceValue(long, long)">DataModel</A></CODE></B></DD>
<DD>Retrieves the preference value for a single user and item.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#getPreferenceValue(long, long)">getPreferenceValue</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userID</CODE> - user ID to get pref value from<DD><CODE>itemID</CODE> - item ID to get pref value for
<DT><B>Returns:</B><DD>preference value from the given user for the given item or null if none exists
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/NoSuchUserException.html" title="class in org.apache.mahout.cf.taste.common">NoSuchUserException</A></CODE> - if the user does not exist
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data</DL>
</DD>
</DL>
<HR>

<A NAME="getNumItems()"><!-- --></A><H3>
getNumItems</H3>
<PRE>
public int <B>getNumItems</B>()
                throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#getNumItems()">getNumItems</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>total number of items known to the model. This is generally the union of all items preferred by
         at least one user but could include more.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data</DL>
</DD>
</DL>
<HR>

<A NAME="getNumUsers()"><!-- --></A><H3>
getNumUsers</H3>
<PRE>
public int <B>getNumUsers</B>()
                throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#getNumUsers()">getNumUsers</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>total number of users known to the model.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data</DL>
</DD>
</DL>
<HR>

<A NAME="getNumUsersWithPreferenceFor(long...)"><!-- --></A><H3>
getNumUsersWithPreferenceFor</H3>
<PRE>
public int <B>getNumUsersWithPreferenceFor</B>(long...&nbsp;itemIDs)
                                 throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#getNumUsersWithPreferenceFor(long...)">getNumUsersWithPreferenceFor</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>itemIDs</CODE> - item IDs to check for
<DT><B>Returns:</B><DD>the number of users who have expressed a preference for all of the items
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/NoSuchItemException.html" title="class in org.apache.mahout.cf.taste.common">NoSuchItemException</A></CODE> - if an item does not exist</DL>
</DD>
</DL>
<HR>

<A NAME="setPreference(long, long, float)"><!-- --></A><H3>
setPreference</H3>
<PRE>
public void <B>setPreference</B>(long&nbsp;userID,
                          long&nbsp;itemID,
                          float&nbsp;value)
                   throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD>Note that this method only updates the in-memory preference data that this
 maintains; it does not modify any data on disk. Therefore any updates from this method are only
 temporary, and lost when data is reloaded from a file. This method should also be considered relatively
 slow.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#setPreference(long, long, float)">setPreference</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userID</CODE> - user to set preference for<DD><CODE>itemID</CODE> - item to set preference for<DD><CODE>value</CODE> - preference value
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/NoSuchItemException.html" title="class in org.apache.mahout.cf.taste.common">NoSuchItemException</A></CODE> - if the item does not exist
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/NoSuchUserException.html" title="class in org.apache.mahout.cf.taste.common">NoSuchUserException</A></CODE> - if the user does not exist
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data</DL>
</DD>
</DL>
<HR>

<A NAME="removePreference(long, long)"><!-- --></A><H3>
removePreference</H3>
<PRE>
public void <B>removePreference</B>(long&nbsp;userID,
                             long&nbsp;itemID)
                      throws <A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></PRE>
<DL>
<DD>See the warning at <A HREF="../../../../../../../../org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html#setPreference(long, long, float)"><CODE>setPreference(long, long, float)</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#removePreference(long, long)">removePreference</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userID</CODE> - user from which to remove preference<DD><CODE>itemID</CODE> - item to remove preference for
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/NoSuchItemException.html" title="class in org.apache.mahout.cf.taste.common">NoSuchItemException</A></CODE> - if the item does not exist
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/NoSuchUserException.html" title="class in org.apache.mahout.cf.taste.common">NoSuchUserException</A></CODE> - if the user does not exist
<DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/TasteException.html" title="class in org.apache.mahout.cf.taste.common">TasteException</A></CODE> - if an error occurs while accessing the data</DL>
</DD>
</DL>
<HR>

<A NAME="refresh(java.util.Collection)"><!-- --></A><H3>
refresh</H3>
<PRE>
public void <B>refresh</B>(java.util.Collection&lt;<A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/Refreshable.html" title="interface in org.apache.mahout.cf.taste.common">Refreshable</A>&gt;&nbsp;alreadyRefreshed)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/Refreshable.html#refresh(java.util.Collection)">Refreshable</A></CODE></B></DD>
<DD><p>
 Triggers "refresh" -- whatever that means -- of the implementation. The general contract is that any
  should always leave itself in a consistent, operational state, and that the refresh
 atomically updates internal state from old to new.
 </p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/Refreshable.html#refresh(java.util.Collection)">refresh</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/common/Refreshable.html" title="interface in org.apache.mahout.cf.taste.common">Refreshable</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>alreadyRefreshed</CODE> - s that are known to have already been
          refreshed as a result of an initial call to a  method on some
          object. This ensure that objects in a refresh dependency graph aren't refreshed twice
          needlessly.</DL>
</DD>
</DL>
<HR>

<A NAME="hasPreferenceValues()"><!-- --></A><H3>
hasPreferenceValues</H3>
<PRE>
public boolean <B>hasPreferenceValues</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html#hasPreferenceValues()">hasPreferenceValues</A></CODE> in interface <CODE><A HREF="../../../../../../../../org/apache/mahout/cf/taste/model/DataModel.html" title="interface in org.apache.mahout.cf.taste.model">DataModel</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FileDataModel.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../../index.html?org/apache/mahout/cf/taste/impl/model/file/FileDataModel.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FileDataModel.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2008-2010 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.
</BODY>
</HTML>
